(function(){"use strict";var e={3774:function(e,n,t){var r=t(5130),o=t(6768);function a(e,n,t,r,a,i){const u=(0,o.g2)("ScanCard");return(0,o.uX)(),(0,o.Wv)(u)}var i=t(4232),u=t(144),c=t(3216),l=t.n(c),v={__name:"ScanCard",setup(e){const n=(0,u.KR)(null),t=(0,u.KR)(null),r=(0,u.KR)("");(0,o.sV)((async()=>{if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)try{const e=await navigator.mediaDevices.getUserMedia({video:!0});n.value.srcObject=e,n.value.play()}catch(e){console.error("無法訪問相機:",e)}}));const a=()=>{t.value.width=n.value.videoWidth,t.value.height=n.value.videoHeight},c=async()=>{const e=t.value.getContext("2d");e.drawImage(n.value,0,0,t.value.width,t.value.height);const o=t.value.toDataURL("image/jpeg");try{const e=await l().recognize(o),n=e.data.text.match(/\d{4}[\s-]?\d{4}[\s-]?\d{4}[\s-]?\d{4}/);r.value=n?n[0]:"未檢測到有效的信用卡號"}catch(a){console.error("OCR處理錯誤:",a)}};return(e,u)=>((0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("video",{ref_key:"video",ref:n,onLoadedmetadata:a},null,544),(0,o.Lk)("canvas",{ref_key:"canvas",ref:t,style:{display:"none"}},null,512),(0,o.Lk)("button",{onClick:c},"掃描信用卡"),(0,o.Lk)("p",null,"卡號: "+(0,i.v_)(r.value),1)]))}};const s=v;var f=s,d={name:"App",components:{ScanCard:f}},p=t(1241);const h=(0,p.A)(d,[["render",a]]);var g=h;(0,r.Ef)(g).mount("#app")}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={exports:{}};return e[r].call(a.exports,a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(n,r,o,a){if(!r){var i=1/0;for(v=0;v<e.length;v++){r=e[v][0],o=e[v][1],a=e[v][2];for(var u=!0,c=0;c<r.length;c++)(!1&a||i>=a)&&Object.keys(t.O).every((function(e){return t.O[e](r[c])}))?r.splice(c--,1):(u=!1,a<i&&(i=a));if(u){e.splice(v--,1);var l=o();void 0!==l&&(n=l)}}return n}a=a||0;for(var v=e.length;v>0&&e[v-1][2]>a;v--)e[v]=e[v-1];e[v]=[r,o,a]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={524:0};t.O.j=function(n){return 0===e[n]};var n=function(n,r){var o,a,i=r[0],u=r[1],c=r[2],l=0;if(i.some((function(n){return 0!==e[n]}))){for(o in u)t.o(u,o)&&(t.m[o]=u[o]);if(c)var v=c(t)}for(n&&n(r);l<i.length;l++)a=i[l],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(v)},r=self["webpackChunkwv_demo"]=self["webpackChunkwv_demo"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}();var r=t.O(void 0,[504],(function(){return t(3774)}));r=t.O(r)})();
//# sourceMappingURL=app.01709f98.js.map